<link rel="import" href="../polymer/polymer.html">

<!--
`touch-item`

@demo demo/index.html 
-->

<dom-module id="touch-item">
  <template>
    <style>
      :host {
        cursor: pointer;
        display: block;
        outline: 0;
      }

      :host([mouse-over]) {
        background: var(--touch-item-hover-bg-color, #f7f7f7) !important;
      }      
    </style>

    <content></content>

  </template>
</dom-module>

<script>
(function() {
  'use strict';

  Polymer({

    is: 'touch-item',

    hostAttributes: {
      'tabindex': '0'
    },

    properties: {

      mouseOver: {
        type: Boolean,
        reflectToAttribute: true,
        value: false
      }

    },

    created() {
      this._onPointerOver = this._onPointerOver.bind(this);
      this._onPointerOut = this._onPointerOut.bind(this);
    },

    attached() {
      this._toggleListeners(true);
    },

    detached() {
      this._toggleListeners(false);
    },

    _toggleListeners(enable) {
      const m = enable ? 'addEventListener' : 'removeEventListener';

      this[m]('pointerover', this._onPointerOver);
      this[m]('pointerout', this._onPointerOut);
    },

    _onPointerOver(event) {
      this.mouseOver = event.pointerType === 'mouse';
    },

    _onPointerOut() {
      this.mouseOver = false;
    }

  });

}());
</script>
